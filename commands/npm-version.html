
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Npm Version · NPM 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="Bump a package version">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="npm-view.html" />
    
    
    <link rel="prev" href="npm-update.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Commands
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="npm-access.html">
            
                <a href="npm-access.html">
            
                    
                    Npm Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="npm-adduser.html">
            
                <a href="npm-adduser.html">
            
                    
                    Npm Adduser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="npm-audit.html">
            
                <a href="npm-audit.html">
            
                    
                    Npm Audit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="npm-bin.html">
            
                <a href="npm-bin.html">
            
                    
                    Npm Bin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="npm-bugs.html">
            
                <a href="npm-bugs.html">
            
                    
                    Npm Bugs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="npm-cache.html">
            
                <a href="npm-cache.html">
            
                    
                    Npm Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="npm-ci.html">
            
                <a href="npm-ci.html">
            
                    
                    Npm Ci
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="npm-completion.html">
            
                <a href="npm-completion.html">
            
                    
                    Npm Completion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="npm-config.html">
            
                <a href="npm-config.html">
            
                    
                    Npm Config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="npm-dedupe.html">
            
                <a href="npm-dedupe.html">
            
                    
                    Npm Dedupe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="npm-deprecate.html">
            
                <a href="npm-deprecate.html">
            
                    
                    Npm Deprecate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="npm-diff.html">
            
                <a href="npm-diff.html">
            
                    
                    Npm Diff
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="npm-dist-tag.html">
            
                <a href="npm-dist-tag.html">
            
                    
                    Npm Dist Tag
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="npm-docs.html">
            
                <a href="npm-docs.html">
            
                    
                    Npm Docs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="npm-doctor.html">
            
                <a href="npm-doctor.html">
            
                    
                    Npm Doctor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="npm-edit.html">
            
                <a href="npm-edit.html">
            
                    
                    Npm Edit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="npm-exec.html">
            
                <a href="npm-exec.html">
            
                    
                    Npm Exec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.18" data-path="npm-explain.html">
            
                <a href="npm-explain.html">
            
                    
                    Npm Explain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.19" data-path="npm-explore.html">
            
                <a href="npm-explore.html">
            
                    
                    Npm Explore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.20" data-path="npm-find-dupes.html">
            
                <a href="npm-find-dupes.html">
            
                    
                    Npm Find Dupes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.21" data-path="npm-fund.html">
            
                <a href="npm-fund.html">
            
                    
                    Npm Fund
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.22" data-path="npm-help-search.html">
            
                <a href="npm-help-search.html">
            
                    
                    Npm Help Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.23" data-path="npm-help.html">
            
                <a href="npm-help.html">
            
                    
                    Npm Help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.24" data-path="npm-hook.html">
            
                <a href="npm-hook.html">
            
                    
                    Npm Hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.25" data-path="npm-init.html">
            
                <a href="npm-init.html">
            
                    
                    Npm Init
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.26" data-path="npm-install-ci-test.html">
            
                <a href="npm-install-ci-test.html">
            
                    
                    Npm Install Ci Test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.27" data-path="npm-install-test.html">
            
                <a href="npm-install-test.html">
            
                    
                    Npm Install Test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.28" data-path="npm-install.html">
            
                <a href="npm-install.html">
            
                    
                    Npm Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.29" data-path="npm-link.html">
            
                <a href="npm-link.html">
            
                    
                    Npm Link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.30" data-path="npm-logout.html">
            
                <a href="npm-logout.html">
            
                    
                    Npm Logout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.31" data-path="npm-ls.html">
            
                <a href="npm-ls.html">
            
                    
                    Npm Ls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.32" data-path="npm-org.html">
            
                <a href="npm-org.html">
            
                    
                    Npm Org
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.33" data-path="npm-outdated.html">
            
                <a href="npm-outdated.html">
            
                    
                    Npm Outdated
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.34" data-path="npm-owner.html">
            
                <a href="npm-owner.html">
            
                    
                    Npm Owner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.35" data-path="npm-pack.html">
            
                <a href="npm-pack.html">
            
                    
                    Npm Pack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.36" data-path="npm-ping.html">
            
                <a href="npm-ping.html">
            
                    
                    Npm Ping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.37" data-path="npm-prefix.html">
            
                <a href="npm-prefix.html">
            
                    
                    Npm Prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.38" data-path="npm-profile.html">
            
                <a href="npm-profile.html">
            
                    
                    Npm Profile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.39" data-path="npm-prune.html">
            
                <a href="npm-prune.html">
            
                    
                    Npm Prune
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.40" data-path="npm-publish.html">
            
                <a href="npm-publish.html">
            
                    
                    Npm Publish
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.41" data-path="npm-rebuild.html">
            
                <a href="npm-rebuild.html">
            
                    
                    Npm Rebuild
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.42" data-path="npm-repo.html">
            
                <a href="npm-repo.html">
            
                    
                    Npm Repo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.43" data-path="npm-restart.html">
            
                <a href="npm-restart.html">
            
                    
                    Npm Restart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.44" data-path="npm-root.html">
            
                <a href="npm-root.html">
            
                    
                    Npm Root
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.45" data-path="npm-run-script.html">
            
                <a href="npm-run-script.html">
            
                    
                    Npm Run Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.46" data-path="npm-search.html">
            
                <a href="npm-search.html">
            
                    
                    Npm Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.47" data-path="npm-set-script.html">
            
                <a href="npm-set-script.html">
            
                    
                    Npm Set Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.48" data-path="npm-shrinkwrap.html">
            
                <a href="npm-shrinkwrap.html">
            
                    
                    Npm Shrinkwrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.49" data-path="npm-star.html">
            
                <a href="npm-star.html">
            
                    
                    Npm Star
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.50" data-path="npm-stars.html">
            
                <a href="npm-stars.html">
            
                    
                    Npm Stars
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.51" data-path="npm-start.html">
            
                <a href="npm-start.html">
            
                    
                    Npm Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.52" data-path="npm-stop.html">
            
                <a href="npm-stop.html">
            
                    
                    Npm Stop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.53" data-path="npm-team.html">
            
                <a href="npm-team.html">
            
                    
                    Npm Team
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.54" data-path="npm-test.html">
            
                <a href="npm-test.html">
            
                    
                    Npm Test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.55" data-path="npm-token.html">
            
                <a href="npm-token.html">
            
                    
                    Npm Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.56" data-path="npm-uninstall.html">
            
                <a href="npm-uninstall.html">
            
                    
                    Npm Uninstall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.57" data-path="npm-unpublish.html">
            
                <a href="npm-unpublish.html">
            
                    
                    Npm Unpublish
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.58" data-path="npm-unstar.html">
            
                <a href="npm-unstar.html">
            
                    
                    Npm Unstar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.59" data-path="npm-update.html">
            
                <a href="npm-update.html">
            
                    
                    Npm Update
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.60" data-path="npm-version.html">
            
                <a href="npm-version.html">
            
                    
                    Npm Version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.61" data-path="npm-view.html">
            
                <a href="npm-view.html">
            
                    
                    Npm View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.62" data-path="npm-whoami.html">
            
                <a href="npm-whoami.html">
            
                    
                    Npm Whoami
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.63" data-path="npm.html">
            
                <a href="npm.html">
            
                    
                    Npm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.64" data-path="npx.html">
            
                <a href="npx.html">
            
                    
                    Npx
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Configuring Npm
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../configuring-npm/folders.html">
            
                <a href="../configuring-npm/folders.html">
            
                    
                    Folders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../configuring-npm/install.html">
            
                <a href="../configuring-npm/install.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../configuring-npm/npm-shrinkwrap-json.html">
            
                <a href="../configuring-npm/npm-shrinkwrap-json.html">
            
                    
                    npm-shrinkwrap.json
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../configuring-npm/npmrc.html">
            
                <a href="../configuring-npm/npmrc.html">
            
                    
                    Npmrc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../configuring-npm/package-json.html">
            
                <a href="../configuring-npm/package-json.html">
            
                    
                    package.json
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../configuring-npm/package-lock-json.html">
            
                <a href="../configuring-npm/package-lock-json.html">
            
                    
                    package-lock.json
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Using Npm
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../using-npm/config.html">
            
                <a href="../using-npm/config.html">
            
                    
                    Config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../using-npm/developers.html">
            
                <a href="../using-npm/developers.html">
            
                    
                    Developers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../using-npm/orgs.html">
            
                <a href="../using-npm/orgs.html">
            
                    
                    Orgs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../using-npm/registry.html">
            
                <a href="../using-npm/registry.html">
            
                    
                    Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../using-npm/removal.html">
            
                <a href="../using-npm/removal.html">
            
                    
                    Removal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../using-npm/scope.html">
            
                <a href="../using-npm/scope.html">
            
                    
                    Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../using-npm/scripts.html">
            
                <a href="../using-npm/scripts.html">
            
                    
                    Scripts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../using-npm/workspaces.html">
            
                <a href="../using-npm/workspaces.html">
            
                    
                    Workspaces
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../">
            
                <a href="../">
            
                    
                    package.json
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Npm Version</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="synopsis">Synopsis</h3>
<pre class="language-"><code class="lang-bash"><span class="token function">npm</span> version <span class="token punctuation">[</span><span class="token operator">&lt;</span>newversion<span class="token operator">&gt;</span> <span class="token operator">|</span> major <span class="token operator">|</span> minor <span class="token operator">|</span> patch <span class="token operator">|</span> premajor <span class="token operator">|</span> preminor <span class="token operator">|</span> prepatch <span class="token operator">|</span> prerelease <span class="token punctuation">[</span>--preid<span class="token operator">=</span><span class="token operator">&lt;</span>prerelease-id<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token operator">|</span> from-git<span class="token punctuation">]</span>

<span class="token string">&apos;npm [-v | --version]&apos;</span> to print <span class="token function">npm</span> version
<span class="token string">&apos;npm view &lt;pkg&gt; version&apos;</span> to view a package<span class="token string">&apos;s published version
&apos;</span><span class="token function">npm</span> ls&apos; to inspect current package/dependency versions
</code></pre>
<h3 id="configuration">Configuration</h3>
<h4 id="allow-same-version"><code>allow-same-version</code></h4>
<ul>
<li>Default: <code>false</code></li>
<li>Type: Boolean</li>
</ul>
<p>Prevents throwing an error when <code>npm version</code> is used to set the new version
to the same value as the current version.</p>
<h4 id="git-tag-version"><code>git-tag-version</code></h4>
<ul>
<li>Default: <code>true</code></li>
<li>Type: Boolean</li>
</ul>
<p>Commit and tag the version change.</p>
<h4 id="commit-hooks"><code>commit-hooks</code></h4>
<ul>
<li>Default: <code>true</code></li>
<li>Type: Boolean</li>
</ul>
<p>Run git commit hooks when committing the version change.</p>
<h4 id="sign-git-tag"><code>sign-git-tag</code></h4>
<ul>
<li>Default: <code>false</code></li>
<li>Type: Boolean</li>
</ul>
<p>Pass the <code>-s</code> flag to git to sign the tag.</p>
<p>Note that you must have a default GPG key set up in your git config for this to work properly.</p>
<h4 id="workspaces">workspaces</h4>
<ul>
<li>Default: <code>false</code></li>
<li>Type: Boolean</li>
</ul>
<p>Enables workspaces context and includes workspaces in reported output
when getting versions.  When setting a new version <em>only the workspaces
will be changed</em>.</p>
<h4 id="workspace">workspace</h4>
<ul>
<li>Default: []</li>
<li>Type: Array</li>
</ul>
<p>Enables workspaces context and limits results to only those specified by
this config item.</p>
<h3 id="description">Description</h3>
<p>Run this in a package directory to bump the version and write the new
data back to <code>package.json</code>, <code>package-lock.json</code>, and, if present, <code>npm-shrinkwrap.json</code>.</p>
<p>The <code>newversion</code> argument should be a valid semver string, a
valid second argument to <a href="https://github.com/npm/node-semver#functions" target="_blank">semver.inc</a> (one of <code>patch</code>, <code>minor</code>, <code>major</code>,
<code>prepatch</code>, <code>preminor</code>, <code>premajor</code>, <code>prerelease</code>), or <code>from-git</code>. In the second case,
the existing version will be incremented by 1 in the specified field.
<code>from-git</code> will try to read the latest git tag, and use that as the new npm version.</p>
<p>If run in a git repo, it will also create a version commit and tag.
This behavior is controlled by <code>git-tag-version</code> (see below), and can
be disabled on the command line by running <code>npm --no-git-tag-version version</code>.
It will fail if the working directory is not clean, unless the <code>-f</code> or
<code>--force</code> flag is set.</p>
<p>If supplied with <code>-m</code> or <code>--message</code> config option, npm will
use it as a commit message when creating a version commit.  If the
<code>message</code> config contains <code>%s</code> then that will be replaced with the
resulting version number.  For example:</p>
<pre class="language-"><code class="lang-bash"><span class="token function">npm</span> version patch -m <span class="token string">&quot;Upgrade to %s for reasons&quot;</span>
</code></pre>
<p>If the <code>sign-git-tag</code> config is set, then the tag will be signed using
the <code>-s</code> flag to git.  Note that you must have a default GPG key set up
in your git config for this to work properly.  For example:</p>
<pre class="language-"><code class="lang-bash">$ <span class="token function">npm</span> config <span class="token builtin class-name">set</span> sign-git-tag <span class="token boolean">true</span>
$ <span class="token function">npm</span> version patch

You need a passphrase to unlock the secret key <span class="token keyword">for</span>
user: <span class="token string">&quot;isaacs (http://blog.izs.me/) &lt;i@izs.me&gt;&quot;</span>
<span class="token number">2048</span>-bit RSA key, ID 6C481CF6, created <span class="token number">2010</span>-08-31

Enter passphrase:
</code></pre>
<p>If <code>preversion</code>, <code>version</code>, or <code>postversion</code> are in the <code>scripts</code> property of
the package.json, they will be executed as part of running <code>npm version</code>.</p>
<p>The exact order of execution is as follows:</p>
<ol>
<li>Check to make sure the git working directory is clean before we get started.
Your scripts may add files to the commit in future steps.
This step is skipped if the <code>--force</code> flag is set.</li>
<li>Run the <code>preversion</code> script. These scripts have access to the old <code>version</code> in package.json.
A typical use would be running your full test suite before deploying.
Any files you want added to the commit should be explicitly added using <code>git add</code>.</li>
<li>Bump <code>version</code> in <code>package.json</code> as requested (<code>patch</code>, <code>minor</code>, <code>major</code>, etc).</li>
<li>Run the <code>version</code> script. These scripts have access to the new <code>version</code> in package.json
(so they can incorporate it into file headers in generated files for example).
Again, scripts should explicitly add generated files to the commit using <code>git add</code>.</li>
<li>Commit and tag.</li>
<li>Run the <code>postversion</code> script. Use it to clean up the file system or automatically push
the commit and/or tag.</li>
</ol>
<p>Take the following example:</p>
<pre class="language-"><code class="lang-json">    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;preversion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm test&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build &amp;&amp; git add -A dist&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;postversion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git push &amp;&amp; git push --tags &amp;&amp; rm -rf build/temp&quot;</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>This runs all your tests and proceeds only if they pass. Then runs your <code>build</code> script, and
adds everything in the <code>dist</code> directory to the commit. After the commit, it pushes the new commit
and tag up to the server, and deletes the <code>build/temp</code> directory.</p>
<h3 id="see-also">See Also</h3>
<ul>
<li><a href="npm-init">npm init</a></li>
<li><a href="npm-run-script">npm run-script</a></li>
<li><a href="../using-npm/scripts">npm scripts</a></li>
<li><a href="../configuring-npm/package-json">package.json</a></li>
<li><a href="../using-npm/config">config</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="npm-update.html" class="navigation navigation-prev " aria-label="Previous page: Npm Update">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="npm-view.html" class="navigation navigation-next " aria-label="Next page: Npm View">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Npm Version","section":1,"description":"Bump a package version","level":"1.1.60","depth":2,"next":{"title":"Npm View","level":"1.1.61","depth":2,"path":"commands/npm-view.md","ref":"commands/npm-view.md","articles":[]},"previous":{"title":"Npm Update","level":"1.1.59","depth":2,"path":"commands/npm-update.md","ref":"commands/npm-update.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"NPM 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"commands/npm-version.md","mtime":"2021-05-14T01:08:50.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-05-14T01:09:26.705Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

